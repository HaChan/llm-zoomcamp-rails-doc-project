Active Storage Video AnalyzerExtracts the following from a video blob:Width (pixels)Height (pixels)Duration (seconds)Angle (degrees)Display aspect ratioAudio (true if file has an audio channel, false if not)Video (true if file has an video channel, false if not)Example:ActiveStorage::Analyzer::VideoAnalyzer.new(blob).metadata
# => { width: 640.0, height: 480.0, duration: 5.0, angle: 0, display_aspect_ratio: [4, 3], audio: true, video: true }When a videoâs angle is 90, -90, 270 or -270 degrees, its width and height are automatically swapped for convenience.This analyzer requires theFFmpegsystem library, which is not provided by Rails.MethodsAaccept?MmetadataClass Public methodsaccept?(blob)LinkSource:show|on GitHub# File activestorage/lib/active_storage/analyzer/video_analyzer.rb, line 25defself.accept?(blob)blob.video?endInstance Public methodsmetadata()LinkSource:show|on GitHub# File activestorage/lib/active_storage/analyzer/video_analyzer.rb, line 29defmetadata{width:width,height:height,duration:duration,angle:angle,display_aspect_ratio:display_aspect_ratio,audio:audio?,video:video?}.compactend