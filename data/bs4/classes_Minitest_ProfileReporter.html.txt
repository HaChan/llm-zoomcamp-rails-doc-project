MethodsNnewRrecord,reportClass Public methodsnew(io = $stdout, options = {})LinkSource:show|on GitHub# File railties/lib/minitest/rails_plugin.rb, line 29definitialize(io=$stdout,options= {})super@results= []@count=options[:profile]endInstance Public methodsrecord(result)LinkSource:show|on GitHub# File railties/lib/minitest/rails_plugin.rb, line 35defrecord(result)@results<<resultendreport()LinkSource:show|on GitHub# File railties/lib/minitest/rails_plugin.rb, line 39defreporttotal_time=@results.sum(&:time)@results.sort!{|a,b|b.time<=>a.time}slow_results=@results.take(@count)slow_tests_total_time=slow_results.sum(&:time)ratio= (total_time==0)?0.0:(slow_tests_total_time/total_time)*100io.puts("\nTop %d slowest tests (%.2f seconds, %.1f%% of total time):\n"%[slow_results.size,slow_tests_total_time,ratio])slow_results.eachdo|result|io.puts("  %s\n    %.4f seconds %s\n"%[result.location,result.time,source_location(result)])endio.puts("\n")end