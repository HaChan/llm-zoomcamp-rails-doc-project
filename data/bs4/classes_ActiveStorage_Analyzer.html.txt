Active Storage AnalyzerThis is an abstract base class for analyzers, which extract metadata from blobs. SeeActiveStorage::Analyzer::VideoAnalyzerfor an example of a concrete subclass.NamespaceCLASSActiveStorage::Analyzer::AudioAnalyzerCLASSActiveStorage::Analyzer::ImageAnalyzerCLASSActiveStorage::Analyzer::VideoAnalyzerMethodsAaccept?,analyze_later?Ddownload_blob_to_tempfileIinstrumentLloggerMmetadataNnewTtmpdirAttributes[R]blobClass Public methodsaccept?(blob)LinkImplement this method in a concrete subclass. Have it return true when given a blob from which the analyzer can extract metadata.Source:show|on GitHub# File activestorage/lib/active_storage/analyzer.rb, line 13defself.accept?(blob)falseendanalyze_later?()LinkImplement this method in concrete subclasses. It will determine if blob analysis should be done in a job or performed inline. By default, analysis is enqueued in a job.Source:show|on GitHub# File activestorage/lib/active_storage/analyzer.rb, line 19defself.analyze_later?trueendnew(blob)LinkSource:show|on GitHub# File activestorage/lib/active_storage/analyzer.rb, line 23definitialize(blob)@blob=blobendInstance Public methodsmetadata()LinkOverride this method in a concrete subclass. Have it return aHashof metadata.Source:show|on GitHub# File activestorage/lib/active_storage/analyzer.rb, line 28defmetadataraiseNotImplementedErrorendInstance Private methodsdownload_blob_to_tempfile(&block)LinkDownloads the blob to a tempfile on disk. Yields the tempfile.Source:show|on GitHub# File activestorage/lib/active_storage/analyzer.rb, line 34defdownload_blob_to_tempfile(&block)# :doc:blob.opentmpdir:tmpdir,&blockendinstrument(analyzer, &block)LinkSource:show|on GitHub# File activestorage/lib/active_storage/analyzer.rb, line 46definstrument(analyzer,&block)# :doc:ActiveSupport::Notifications.instrument("analyze.active_storage",analyzer:analyzer,&block)endlogger()LinkSource:show|on GitHub# File activestorage/lib/active_storage/analyzer.rb, line 38deflogger# :doc:ActiveStorage.loggerendtmpdir()LinkSource:show|on GitHub# File activestorage/lib/active_storage/analyzer.rb, line 42deftmpdir# :doc:Dir.tmpdirend