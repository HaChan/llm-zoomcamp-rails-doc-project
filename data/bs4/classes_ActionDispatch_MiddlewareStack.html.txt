Action DispatchMiddlewareStackRead more aboutRails middleware stackin the guides.NamespaceCLASSActionDispatch::MiddlewareStack::InstrumentationProxyCLASSActionDispatch::MiddlewareStack::MiddlewareMethods#[]BbuildDdelete,delete!EeachIinitialize_copy,insert,insert_after,insert_beforeLlastMmove,move_after,move_beforeNnewSsize,swapUunshift,useIncluded ModulesEnumerableAttributes[RW]middlewaresClass Public methodsnew(*args)LinkSource:show|on GitHub# File actionpack/lib/action_dispatch/middleware/stack.rb, line 76definitialize(*args)@middlewares= []yield(self)ifblock_given?endInstance Public methods[](i)LinkSource:show|on GitHub# File actionpack/lib/action_dispatch/middleware/stack.rb, line 93def[](i)middlewares[i]endbuild(app = nil, &block)LinkSource:show|on GitHub# File actionpack/lib/action_dispatch/middleware/stack.rb, line 166defbuild(app=nil,&block)instrumenting=ActiveSupport::Notifications.notifier.listening?(InstrumentationProxy::EVENT_NAME)middlewares.freeze.reverse.inject(app||block)do|a,e|ifinstrumentinge.build_instrumented(a)elsee.build(a)endendenddelete(target)LinkDeletes a middleware from the middleware stack.Returns the array of middlewares not including the deleted item, or returns nil if the target is not found.Source:show|on GitHub# File actionpack/lib/action_dispatch/middleware/stack.rb, line 131defdelete(target)middlewares.reject!{|m|m.name==target.name}enddelete!(target)LinkDeletes a middleware from the middleware stack.Returns the array of middlewares not including the deleted item, or raisesRuntimeErrorif the target is not found.Source:show|on GitHub# File actionpack/lib/action_dispatch/middleware/stack.rb, line 139defdelete!(target)delete(target)||(raise"No such middleware to remove: #{target.inspect}")endeach(&block)LinkSource:show|on GitHub# File actionpack/lib/action_dispatch/middleware/stack.rb, line 81defeach(&block)@middlewares.each(&block)endinitialize_copy(other)LinkSource:show|on GitHub# File actionpack/lib/action_dispatch/middleware/stack.rb, line 102definitialize_copy(other)self.middlewares=other.middlewares.dupendinsert(index, klass, *args, &block)LinkAlso aliased as:insert_beforeSource:show|on GitHub# File actionpack/lib/action_dispatch/middleware/stack.rb, line 106definsert(index,klass,*args,&block)index=assert_index(index,:before)middlewares.insert(index,build_middleware(klass,args,block))endinsert_after(index, *args, &block)LinkSource:show|on GitHub# File actionpack/lib/action_dispatch/middleware/stack.rb, line 114definsert_after(index,*args,&block)index=assert_index(index,:after)insert(index+1,*args,&block)endinsert_before(index, klass, *args, &block)LinkAlias for:insertlast()LinkSource:show|on GitHub# File actionpack/lib/action_dispatch/middleware/stack.rb, line 89deflastmiddlewares.lastendmove(target, source)LinkAlso aliased as:move_beforeSource:show|on GitHub# File actionpack/lib/action_dispatch/middleware/stack.rb, line 143defmove(target,source)source_index=assert_index(source,:before)source_middleware=middlewares.delete_at(source_index)target_index=assert_index(target,:before)middlewares.insert(target_index,source_middleware)endmove_after(target, source)LinkSource:show|on GitHub# File actionpack/lib/action_dispatch/middleware/stack.rb, line 153defmove_after(target,source)source_index=assert_index(source,:after)source_middleware=middlewares.delete_at(source_index)target_index=assert_index(target,:after)middlewares.insert(target_index+1,source_middleware)endmove_before(target, source)LinkAlias for:movesize()LinkSource:show|on GitHub# File actionpack/lib/action_dispatch/middleware/stack.rb, line 85defsizemiddlewares.sizeendswap(target, *args, &block)LinkSource:show|on GitHub# File actionpack/lib/action_dispatch/middleware/stack.rb, line 120defswap(target,*args,&block)index=assert_index(target,:before)insert(index,*args,&block)middlewares.delete_at(index+1)endunshift(klass, *args, &block)LinkSource:show|on GitHub# File actionpack/lib/action_dispatch/middleware/stack.rb, line 97defunshift(klass,*args,&block)middlewares.unshift(build_middleware(klass,args,block))enduse(klass, *args, &block)LinkSource:show|on GitHub# File actionpack/lib/action_dispatch/middleware/stack.rb, line 161defuse(klass,*args,&block)middlewares.push(build_middleware(klass,args,block))end