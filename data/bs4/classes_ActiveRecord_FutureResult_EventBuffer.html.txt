MethodsFflushIinstrumentNnewClass Public methodsnew(future_result, instrumenter)LinkSource:show|on GitHub# File activerecord/lib/active_record/future_result.rb, line 27definitialize(future_result,instrumenter)@future_result=future_result@instrumenter=instrumenter@events= []endInstance Public methodsflush()LinkSource:show|on GitHub# File activerecord/lib/active_record/future_result.rb, line 42defflushevents,@events=@events, []events.eachdo|event|event.payload[:lock_wait] =@future_result.lock_waitActiveSupport::Notifications.publish_event(event)endendinstrument(name, payload = {}, &block)LinkSource:show|on GitHub# File activerecord/lib/active_record/future_result.rb, line 33definstrument(name,payload= {},&block)event=@instrumenter.new_event(name,payload)beginevent.record(&block)ensure@events<<eventendend