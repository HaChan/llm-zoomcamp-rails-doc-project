MethodsAannotations,api_only=,autoload_lib,autoload_lib_onceCcolorize_logging,colorize_logging=,content_security_policyDdatabase_configuration,debug_exception_response_format,default_log_fileEenable_reloading,enable_reloading=,encoding=Lload_defaults,log_level=NnewPpaths,permissions_policyRread_encrypted_secrets,read_encrypted_secrets=,reloading_enabled?Ssecret_key_base,secret_key_base=,session_storeAttributes[RW]add_autoload_paths_to_load_path[RW]allow_concurrency[R]api_only[RW]asset_host[RW]assume_ssl[RW]autoflush_log[RW]beginning_of_week[RW]cache_classes[RW]cache_store[RW]consider_all_requests_local[RW]console[RW]content_security_policy_nonce_directives[RW]content_security_policy_nonce_generator[RW]content_security_policy_report_only[RW]credentials[W]debug_exception_response_format[RW]disable_sandbox[RW]dom_testing_default_html_version[RW]eager_load[R]encoding[RW]exceptions_app[RW]file_watcher[RW]filter_parameters[RW]filter_redirect[RW]force_ssl[RW]helpers_paths[RW]host_authorization[RW]hosts[R]loaded_config_version[RW]log_file_size[RW]log_formatter[R]log_level[RW]log_tags[RW]logger[RW]precompile_filter_parameters[RW]public_file_server[RW]railties_order[RW]rake_eager_load[RW]relative_url_root[RW]reload_classes_only_on_change[RW]require_master_key[RW]sandbox_by_default[RW]server_timing[RW]session_options[RW]ssl_options[RW]time_zone[RW]x[RW]yjitClass Public methodsnew(*)LinkSource:show|on GitHub# File railties/lib/rails/application/configuration.rb, line 30definitialize(*)superself.encoding=Encoding::UTF_8@allow_concurrency=nil@consider_all_requests_local=false@filter_parameters= []@filter_redirect= []@helpers_paths= []ifRails.env.development?@hosts=ActionDispatch::HostAuthorization::ALLOWED_HOSTS_IN_DEVELOPMENT+ENV["RAILS_DEVELOPMENT_HOSTS"].to_s.split(",").map(&:strip)else@hosts= []end@host_authorization= {}@public_file_server=ActiveSupport::OrderedOptions.new@public_file_server.enabled=true@public_file_server.index_name="index"@assume_ssl=false@force_ssl=false@ssl_options= {}@session_store=nil@time_zone="UTC"@beginning_of_week=:monday@log_level=:debug@log_file_size=nil@generators=app_generators@cache_store= [:file_store,"#{root}/tmp/cache/"]@railties_order= [:all]@relative_url_root=ENV["RAILS_RELATIVE_URL_ROOT"]@reload_classes_only_on_change=true@file_watcher=ActiveSupport::FileUpdateChecker@exceptions_app=nil@autoflush_log=true@log_formatter=ActiveSupport::Logger::SimpleFormatter.new@eager_load=nil@secret_key_base=nil@api_only=false@debug_exception_response_format=nil@x=Custom.new@content_security_policy=nil@content_security_policy_report_only=false@content_security_policy_nonce_generator=nil@content_security_policy_nonce_directives=nil@require_master_key=false@loaded_config_version=nil@credentials=ActiveSupport::InheritableOptions.new(credentials_defaults)@disable_sandbox=false@sandbox_by_default=false@add_autoload_paths_to_load_path=true@permissions_policy=nil@rake_eager_load=false@server_timing=false@dom_testing_default_html_version=:html4@yjit=falseendInstance Public methodsannotations()LinkSource:show|on GitHub# File railties/lib/rails/application/configuration.rb, line 558defannotationsRails::SourceAnnotationExtractor::Annotationendapi_only=(value)LinkSource:show|on GitHub# File railties/lib/rails/application/configuration.rb, line 373defapi_only=(value)@api_only=valuegenerators.api_only=value@debug_exception_response_format||=:apiendautoload_lib(ignore:)LinkSource:show|on GitHub# File railties/lib/rails/application/configuration.rb, line 468defautoload_lib(ignore:)lib=root.join("lib")# Set as a string to have the same type as default autoload paths, for# consistency.autoload_paths<<lib.to_seager_load_paths<<lib.to_signored_abspaths=Array.wrap(ignore).map{lib.join(_1) }Rails.autoloaders.main.ignore(ignored_abspaths)endautoload_lib_once(ignore:)LinkSource:show|on GitHub# File railties/lib/rails/application/configuration.rb, line 480defautoload_lib_once(ignore:)lib=root.join("lib")# Set as a string to have the same type as default autoload paths, for# consistency.autoload_once_paths<<lib.to_seager_load_paths<<lib.to_signored_abspaths=Array.wrap(ignore).map{lib.join(_1) }Rails.autoloaders.once.ignore(ignored_abspaths)endcolorize_logging()LinkSource:show|on GitHub# File railties/lib/rails/application/configuration.rb, line 492defcolorize_loggingActiveSupport::LogSubscriber.colorize_loggingendcolorize_logging=(val)LinkSource:show|on GitHub# File railties/lib/rails/application/configuration.rb, line 496defcolorize_logging=(val)ActiveSupport::LogSubscriber.colorize_logging=valgenerators.colorize_logging=valendcontent_security_policy(&block)LinkConfigures theActionDispatch::ContentSecurityPolicy.Source:show|on GitHub# File railties/lib/rails/application/configuration.rb, line 563defcontent_security_policy(&block)ifblock_given?@content_security_policy=ActionDispatch::ContentSecurityPolicy.new(&block)else@content_security_policyendenddatabase_configuration()LinkLoads and returns the entire raw configuration of database from values stored inconfig/database.yml.Source:show|on GitHub# File railties/lib/rails/application/configuration.rb, line 431defdatabase_configurationpath=paths["config/database"].existent.firstyaml=Pathname.new(path)ifpathconfig=ifyaml&.exist?loaded_yaml=ActiveSupport::ConfigurationFile.parse(yaml)if(shared=loaded_yaml.delete("shared"))loaded_yaml.eachdo|env,config|ifconfig.is_a?(Hash)&&config.values.all?(Hash)ifshared.is_a?(Hash)&&shared.values.all?(Hash)config.mapdo|name,sub_config|sub_config.reverse_merge!(shared[name])endelseconfig.mapdo|name,sub_config|sub_config.reverse_merge!(shared)endendelseconfig.reverse_merge!(shared)endendendHash.new(shared).merge(loaded_yaml)elsifENV["DATABASE_URL"]# Value from ENV['DATABASE_URL'] is set to default database connection# by Active Record.{}elseraise"Could not load database configuration. No such file - #{paths["config/database"].instance_variable_get(:@paths)}"endconfigrescue=>eraisee,"Cannot load database configuration:\n#{e.message}",e.backtraceenddebug_exception_response_format()LinkSource:show|on GitHub# File railties/lib/rails/application/configuration.rb, line 387defdebug_exception_response_format@debug_exception_response_format||:defaultenddefault_log_file()LinkSource:show|on GitHub# File railties/lib/rails/application/configuration.rb, line 580defdefault_log_filepath=paths["log"].firstunlessFile.exist?File.dirnamepathFileUtils.mkdir_pFile.dirnamepathendf=File.openpath,"a"f.binmodef.sync=autoflush_log# if true make sure every write flushesfendenable_reloading()LinkSource:show|on GitHub# File railties/lib/rails/application/configuration.rb, line 349defenable_reloading!cache_classesendenable_reloading=(value)LinkSource:show|on GitHub# File railties/lib/rails/application/configuration.rb, line 353defenable_reloading=(value)self.cache_classes=!valueendencoding=(value)LinkSource:show|on GitHub# File railties/lib/rails/application/configuration.rb, line 365defencoding=(value)@encoding=valuesilence_warningsdoEncoding.default_external=valueEncoding.default_internal=valueendendload_defaults(target_version)LinkLoads default configuration values for a target version. This includes defaults for versions prior to the target version. See theconfiguration guidefor the default values associated with a particular version.Source:show|on GitHub# File railties/lib/rails/application/configuration.rb, line 91defload_defaults(target_version)# To introduce a change in behavior, follow these steps:# 1. Add an accessor on the target object (e.g. the ActiveJob class for#    global Active Job config).# 2. Set a default value there preserving existing behavior for existing#    applications.# 3. Implement the behavior change based on the config value.# 4. In the section below corresponding to the next release of Rails,#    configure the default value.# 5. Add a commented out section in the `new_framework_defaults` to#    configure the default value again.# 6. Update the guide in `configuring.md`.# To remove configurable deprecated behavior, follow these steps:# 1. Update or remove the entry in the guides.# 2. Remove the references below.# 3. Remove the legacy code paths and config check.# 4. Remove the config accessor.casetarget_version.to_swhen"5.0"ifrespond_to?(:action_controller)action_controller.per_form_csrf_tokens=trueaction_controller.forgery_protection_origin_check=trueendActiveSupport.to_time_preserves_timezone=trueifrespond_to?(:active_record)active_record.belongs_to_required_by_default=trueendself.ssl_options= {hsts:{subdomains:true} }when"5.1"load_defaults"5.0"ifrespond_to?(:assets)assets.unknown_asset_fallback=falseendifrespond_to?(:action_view)action_view.form_with_generates_remote_forms=trueendwhen"5.2"load_defaults"5.1"ifrespond_to?(:active_record)active_record.cache_versioning=trueendifrespond_to?(:action_dispatch)action_dispatch.use_authenticated_cookie_encryption=trueendifrespond_to?(:active_support)active_support.use_authenticated_message_encryption=trueactive_support.hash_digest_class=OpenSSL::Digest::SHA1endifrespond_to?(:action_controller)action_controller.default_protect_from_forgery=trueendifrespond_to?(:action_view)action_view.form_with_generates_ids=trueendwhen"6.0"load_defaults"5.2"ifrespond_to?(:action_view)action_view.default_enforce_utf8=falseendifrespond_to?(:action_dispatch)action_dispatch.use_cookies_with_metadata=trueendifrespond_to?(:action_mailer)action_mailer.delivery_job="ActionMailer::MailDeliveryJob"endifrespond_to?(:active_storage)active_storage.queues.analysis=:active_storage_analysisactive_storage.queues.purge=:active_storage_purgeendifrespond_to?(:active_record)active_record.collection_cache_versioning=trueendwhen"6.1"load_defaults"6.0"ifrespond_to?(:active_record)active_record.has_many_inversing=trueendifrespond_to?(:active_job)active_job.retry_jitter=0.15endifrespond_to?(:action_dispatch)action_dispatch.cookies_same_site_protection=:laxaction_dispatch.ssl_default_redirect_status=308endifrespond_to?(:action_view)action_view.form_with_generates_remote_forms=falseaction_view.preload_links_header=trueendifrespond_to?(:active_storage)active_storage.track_variants=trueactive_storage.queues.analysis=nilactive_storage.queues.purge=nilendifrespond_to?(:action_mailbox)action_mailbox.queues.incineration=nilaction_mailbox.queues.routing=nilendifrespond_to?(:action_mailer)action_mailer.deliver_later_queue_name=nilendActiveSupport.utc_to_local_returns_utc_offset_times=truewhen"7.0"load_defaults"6.1"ifrespond_to?(:action_dispatch)action_dispatch.default_headers= {"X-Frame-Options"=>"SAMEORIGIN","X-XSS-Protection"=>"0","X-Content-Type-Options"=>"nosniff","X-Download-Options"=>"noopen","X-Permitted-Cross-Domain-Policies"=>"none","Referrer-Policy"=>"strict-origin-when-cross-origin"}action_dispatch.cookies_serializer=:jsonendifrespond_to?(:action_view)action_view.button_to_generates_button_tag=trueaction_view.apply_stylesheet_media_default=falseendifrespond_to?(:active_support)active_support.hash_digest_class=OpenSSL::Digest::SHA256active_support.key_generator_hash_digest_class=OpenSSL::Digest::SHA256active_support.cache_format_version=7.0active_support.executor_around_test_case=trueendifrespond_to?(:action_mailer)action_mailer.smtp_timeout=5endifrespond_to?(:active_storage)active_storage.video_preview_arguments="-vf 'select=eq(n\\,0)+eq(key\\,1)+gt(scene\\,0.015),loop=loop=-1:size=2,trim=start_frame=1'"\" -frames:v 1 -f image2"active_storage.variant_processor=:vipsactive_storage.multiple_file_field_include_hidden=trueendifrespond_to?(:active_record)active_record.verify_foreign_keys_for_fixtures=trueactive_record.partial_inserts=falseactive_record.automatic_scope_inversing=trueendifrespond_to?(:action_controller)action_controller.raise_on_open_redirects=trueaction_controller.wrap_parameters_by_default=trueendwhen"7.1"load_defaults"7.0"self.add_autoload_paths_to_load_path=falseself.precompile_filter_parameters=trueself.dom_testing_default_html_version=defined?(Nokogiri::HTML5)?:html5::html4ifRails.env.local?self.log_file_size=100*1024*1024endifrespond_to?(:active_record)active_record.run_commit_callbacks_on_first_saved_instances_in_transaction=falseactive_record.sqlite3_adapter_strict_strings_by_default=trueactive_record.query_log_tags_format=:sqlcommenteractive_record.raise_on_assign_to_attr_readonly=trueactive_record.belongs_to_required_validates_foreign_key=falseactive_record.before_committed_on_all_records=trueactive_record.default_column_serializer=nilactive_record.encryption.hash_digest_class=OpenSSL::Digest::SHA256active_record.encryption.support_sha1_for_non_deterministic_encryption=falseactive_record.marshalling_format_version=7.1active_record.run_after_transaction_callbacks_in_order_defined=trueactive_record.generate_secure_token_on=:initializeendifrespond_to?(:action_dispatch)action_dispatch.default_headers= {"X-Frame-Options"=>"SAMEORIGIN","X-XSS-Protection"=>"0","X-Content-Type-Options"=>"nosniff","X-Permitted-Cross-Domain-Policies"=>"none","Referrer-Policy"=>"strict-origin-when-cross-origin"}action_dispatch.debug_exception_log_level=:errorendifrespond_to?(:active_support)active_support.cache_format_version=7.1active_support.message_serializer=:json_allow_marshalactive_support.use_message_serializer_for_metadata=trueactive_support.raise_on_invalid_cache_expiration_time=trueendifrespond_to?(:action_view)require"action_view/helpers"action_view.sanitizer_vendor=Rails::HTML::Sanitizer.best_supported_vendorendifrespond_to?(:action_text)require"action_view/helpers"action_text.sanitizer_vendor=Rails::HTML::Sanitizer.best_supported_vendorendwhen"7.2"load_defaults"7.1"self.yjit=trueifrespond_to?(:active_job)active_job.enqueue_after_transaction_commit=:defaultendifrespond_to?(:active_storage)active_storage.web_image_content_types=%w( image/png image/jpeg image/gif image/webp )endifrespond_to?(:active_record)active_record.postgresql_adapter_decode_dates=trueactive_record.validate_migration_timestamps=trueendelseraise"Unknown version #{target_version.to_s.inspect}"end@loaded_config_version=target_versionendlog_level=(level)LinkSource:show|on GitHub# File railties/lib/rails/application/configuration.rb, line 380deflog_level=(level)@log_level=level@broadcast_log_level=levelendpaths()LinkSource:show|on GitHub# File railties/lib/rails/application/configuration.rb, line 393defpaths@paths||=beginpaths=superpaths.add"config/database",with:"config/database.yml"paths.add"config/environment",with:"config/environment.rb"paths.add"lib/templates"paths.add"log",with:"log/#{Rails.env}.log"paths.add"public"paths.add"public/javascripts"paths.add"public/stylesheets"paths.add"tmp"pathsendendpermissions_policy(&block)LinkConfigures theActionDispatch::PermissionsPolicy.Source:show|on GitHub# File railties/lib/rails/application/configuration.rb, line 572defpermissions_policy(&block)ifblock_given?@permissions_policy=ActionDispatch::PermissionsPolicy.new(&block)else@permissions_policyendendread_encrypted_secrets()LinkSource:show|on GitHub# File railties/lib/rails/application/configuration.rb, line 357defread_encrypted_secretsRails.deprecator.warn("'config.read_encrypted_secrets' is deprecated and will be removed in Rails 8.0.")endread_encrypted_secrets=(value)LinkSource:show|on GitHub# File railties/lib/rails/application/configuration.rb, line 361defread_encrypted_secrets=(value)Rails.deprecator.warn("'config.read_encrypted_secrets=' is deprecated and will be removed in Rails 8.0.")endreloading_enabled?()LinkSource:show|on GitHub# File railties/lib/rails/application/configuration.rb, line 345defreloading_enabled?enable_reloadingendsecret_key_base()LinkSource:show|on GitHub# File railties/lib/rails/application/configuration.rb, line 501defsecret_key_base@secret_key_base||beginself.secret_key_base=ifgenerate_local_secret?generate_local_secretelseENV["SECRET_KEY_BASE"]||Rails.application.credentials.secret_key_baseendendendsecret_key_base=(new_secret_key_base)LinkSource:show|on GitHub# File railties/lib/rails/application/configuration.rb, line 511defsecret_key_base=(new_secret_key_base)ifnew_secret_key_base.nil?&&generate_local_secret?@secret_key_base=generate_local_secretelsifnew_secret_key_base.is_a?(String)&&new_secret_key_base.present?@secret_key_base=new_secret_key_baseelsifnew_secret_key_baseraiseArgumentError,"`secret_key_base` for #{Rails.env} environment must be a type of String`"elseraiseArgumentError,"Missing `secret_key_base` for '#{Rails.env}' environment, set this string with `bin/rails credentials:edit`"endendsession_store(new_session_store = nil, **options)LinkSpecifies what class to use to store the session. Possible values are:cache_store,:cookie_store,:mem_cache_store, a custom store, or:disabled.:disabledtells Rails not to deal with sessions.Additional options will be set assession_options:config.session_store :cookie_store, key: "_your_app_session"
config.session_options # => {key: "_your_app_session"}If a custom store is specified as a symbol, it will be resolved to theActionDispatch::Sessionnamespace:# use ActionDispatch::Session::MyCustomStore as the session store
config.session_store :my_custom_storeSource:show|on GitHub# File railties/lib/rails/application/configuration.rb, line 538defsession_store(new_session_store=nil,**options)ifnew_session_store@session_store=new_session_store@session_options=options||{}elsecase@session_storewhen:disablednilwhenSymbolActionDispatch::Session.resolve_store(@session_store)else@session_storeendendend