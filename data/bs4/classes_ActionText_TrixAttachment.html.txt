MethodsAattributesFfrom_attributesNnewTto_html,to_sConstantsATTRIBUTES=%w( sgid contentType url href filename filesize width height previewable content ) + COMPOSED_ATTRIBUTESATTRIBUTE_TYPES={
"previewable" => ->(value) { value.to_s == "true" },
"filesize"    => ->(value) { Integer(value.to_s, exception: false) || value },
"width"       => ->(value) { Integer(value.to_s, exception: false) },
"height"      => ->(value) { Integer(value.to_s, exception: false) },
:default      => ->(value) { value.to_s }
}COMPOSED_ATTRIBUTES=%w( caption presentation )SELECTOR="[data-trix-attachment]"TAG_NAME="figure"Attributes[R]nodeClass Public methodsfrom_attributes(attributes)LinkSource:show|on GitHub# File actiontext/lib/action_text/trix_attachment.rb, line 21deffrom_attributes(attributes)attributes=process_attributes(attributes)trix_attachment_attributes=attributes.except(*COMPOSED_ATTRIBUTES)trix_attributes=attributes.slice(*COMPOSED_ATTRIBUTES)node=ActionText::HtmlConversion.create_element(TAG_NAME)node["data-trix-attachment"] =JSON.generate(trix_attachment_attributes)node["data-trix-attributes"] =JSON.generate(trix_attributes)iftrix_attributes.any?new(node)endnew(node)LinkSource:show|on GitHub# File actiontext/lib/action_text/trix_attachment.rb, line 53definitialize(node)@node=nodeendInstance Public methodsattributes()LinkSource:show|on GitHub# File actiontext/lib/action_text/trix_attachment.rb, line 57defattributes@attributes||=attachment_attributes.merge(composed_attributes).slice(*ATTRIBUTES)endto_html()LinkSource:show|on GitHub# File actiontext/lib/action_text/trix_attachment.rb, line 61defto_htmlActionText::HtmlConversion.node_to_html(node)endto_s()LinkSource:show|on GitHub# File actiontext/lib/action_text/trix_attachment.rb, line 65defto_sto_htmlend