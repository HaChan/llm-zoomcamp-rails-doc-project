MethodsRrun_in_isolationInstance Public methodsrun_in_isolation(&blk)LinkSource:show|on GitHub# File activesupport/lib/active_support/testing/isolation.rb, line 36defrun_in_isolation(&blk)IO.pipedo|read,write|read.binmodewrite.binmodepid=forkdoread.closeyieldbeginiferror?failures.map!{|e|beginMarshal.dumpeerescueTypeErrorex=Exception.newe.messageex.set_backtracee.backtraceMinitest::UnexpectedError.newexend}endtest_result=defined?(Minitest::Result)?Minitest::Result.from(self):dupresult=Marshal.dump(test_result)endwrite.puts[result].pack("m")exit!(0)endwrite.closeresult=read.read_,status=Process.wait2(pid)returnstatus,result.unpack1("m")endend