Action View Raw Output HelpersMethodsRrawSsafe_joinTto_sentenceInstance Public methodsraw(stringish)LinkThis method outputs without escaping a string. Since escaping tags is now default, this can be used when you donât want Rails to automatically escape tags. This is not recommended if the data is coming from the userâs input.For example:raw @user.name
# => 'Jimmy <alert>Tables</alert>'Source:show|on GitHub# File actionview/lib/action_view/helpers/output_safety_helper.rb, line 18defraw(stringish)stringish.to_s.html_safeendsafe_join(array, sep = $,)LinkThis method returns an HTML safe string similar to whatArray#joinwould return. The array is flattened, and all items, including the supplied separator, are HTML escaped unless they are HTML safe, and the returned string is marked as HTML safe.safe_join([tag.p("foo"), "<p>bar</p>"], "<br>")
# => "<p>foo</p>&lt;br&gt;&lt;p&gt;bar&lt;/p&gt;"

safe_join([tag.p("foo"), tag.p("bar")], tag.br)
# => "<p>foo</p><br><p>bar</p>"Source:show|on GitHub# File actionview/lib/action_view/helpers/output_safety_helper.rb, line 33defsafe_join(array,sep=$,)sep=ERB::Util.unwrapped_html_escape(sep)array.flatten.map!{|i|ERB::Util.unwrapped_html_escape(i) }.join(sep).html_safeendto_sentence(array, options = {})LinkConverts the array to a comma-separated sentence where the last element is joined by the connector word. This is the html_safe-aware version of ActiveSupportâsArray#to_sentence.Source:show|on GitHub# File actionview/lib/action_view/helpers/output_safety_helper.rb, line 43defto_sentence(array,options= {})options.assert_valid_keys(:words_connector,:two_words_connector,:last_word_connector,:locale)default_connectors= {words_connector:", ",two_words_connector:" and ",last_word_connector:", and "}ifdefined?(I18n)i18n_connectors=I18n.translate(:'support.array',locale:options[:locale],default:{})default_connectors.merge!(i18n_connectors)endoptions=default_connectors.merge!(options)casearray.lengthwhen0"".html_safewhen1ERB::Util.html_escape(array[0])when2safe_join([array[0],array[1]],options[:two_words_connector])elsesafe_join([safe_join(array[0...-1],options[:words_connector]),options[:last_word_connector],array[-1]],nil)endend