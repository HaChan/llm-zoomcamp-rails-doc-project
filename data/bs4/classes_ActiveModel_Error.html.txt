Active Model ErrorRepresents one single errorMethodsAattributes_for_hashDdetail,detailsFfull_messageMmatch?,messageNnewSstrict_match?ConstantsCALLBACKS_OPTIONS=[:if, :unless, :on, :allow_nil, :allow_blank, :strict]MESSAGE_OPTIONS=[:message]Attributes[R]attributeThe attribute ofbasewhich the error belongs to[R]baseThe object which the error belongs to[R]optionsThe options provided when callingerrors#add[R]raw_typeThe raw value provided as the second parameter when callingerrors#add[R]typeThe type of error, defaults to:invalidunless specifiedClass Public methodsnew(base, attribute, type = :invalid, **options)LinkSource:show|on GitHub# File activemodel/lib/active_model/error.rb, line 103definitialize(base,attribute,type=:invalid,**options)@base=base@attribute=attribute@raw_type=type@type=type||:invalid@options=optionsendInstance Public methodsdetail()LinkAlias for:detailsdetails()LinkReturns the error details.error = ActiveModel::Error.new(person, :name, :too_short, count: 5)
error.details
# => { error: :too_short, count: 5 }Also aliased as:detailSource:show|on GitHub# File activemodel/lib/active_model/error.rb, line 149defdetails{error:raw_type}.merge(options.except(*CALLBACKS_OPTIONS+MESSAGE_OPTIONS))endfull_message()LinkReturns the full error message.error = ActiveModel::Error.new(person, :name, :too_short, count: 5)
error.full_message
# => "Name is too short (minimum is 5 characters)"Source:show|on GitHub# File activemodel/lib/active_model/error.rb, line 159deffull_messageself.class.full_message(attribute,message,@base)endmatch?(attribute, type = nil, **options)LinkSee if error matches providedattribute,type, andoptions.Omitted params are not checked for a match.Source:show|on GitHub# File activemodel/lib/active_model/error.rb, line 166defmatch?(attribute,type=nil,**options)if@attribute!=attribute||(type&&@type!=type)returnfalseendoptions.eachdo|key,value|if@options[key]!=valuereturnfalseendendtrueendmessage()LinkReturns the error message.error = ActiveModel::Error.new(person, :name, :too_short, count: 5)
error.message
# => "is too short (minimum is 5 characters)"Source:show|on GitHub# File activemodel/lib/active_model/error.rb, line 135defmessagecaseraw_typewhenSymbolself.class.generate_message(attribute,raw_type,@base,options.except(*CALLBACKS_OPTIONS))elseraw_typeendendstrict_match?(attribute, type, **options)LinkSee if error matches providedattribute,type, andoptionsexactly.All params must be equal to Errorâs own attributes to be considered a strict match.Source:show|on GitHub# File activemodel/lib/active_model/error.rb, line 184defstrict_match?(attribute,type,**options)returnfalseunlessmatch?(attribute,type)options==@options.except(*CALLBACKS_OPTIONS+MESSAGE_OPTIONS)endInstance Protected methodsattributes_for_hash()LinkSource:show|on GitHub# File activemodel/lib/active_model/error.rb, line 204defattributes_for_hash[@base,@attribute,@raw_type,@options.except(*CALLBACKS_OPTIONS)]end