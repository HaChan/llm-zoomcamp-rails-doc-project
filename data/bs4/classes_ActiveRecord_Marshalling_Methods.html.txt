Methods#_marshal_dump_7_1Mmarshal_loadInstance Public methods_marshal_dump_7_1()LinkSource:show|on GitHub# File activerecord/lib/active_record/marshalling.rb, line 24def_marshal_dump_7_1payload= [attributes_for_database,new_record?]cached_associations=self.class.reflect_on_all_associations.selectdo|reflection|association_cached?(reflection.name)&&association(reflection.name).loaded?endunlesscached_associations.empty?payload<<cached_associations.mapdo|reflection|[reflection.name,association(reflection.name).target]endendpayloadendmarshal_load(state)LinkSource:show|on GitHub# File activerecord/lib/active_record/marshalling.rb, line 40defmarshal_load(state)attributes_from_database,new_record,associations=stateattributes=self.class.attributes_builder.build_from_database(attributes_from_database)init_with_attributes(attributes,new_record)ifassociationsassociations.eachdo|name,target|association(name).target=targetrescueActiveRecord::AssociationNotFoundError# the association no longer exist, we can just skip it.endendend