MethodsCcreate_sessionDdefault_url_options,default_url_options=Iintegration_sessionNnewOopen_sessionRreset!Included ModulesActionDispatch::AssertionsConstantsAPP_SESSIONS={}Attributes[R]appClass Public methodsnew(*args, &blk)LinkSource:show|on GitHub# File actionpack/lib/action_dispatch/testing/integration.rb, line 332definitialize(*args,&blk)super(*args,&blk)@integration_session=nilendInstance Public methodscreate_session(app)LinkSource:show|on GitHub# File actionpack/lib/action_dispatch/testing/integration.rb, line 352defcreate_session(app)klass=APP_SESSIONS[app]||=Class.new(Integration::Session) {# If the app is a Rails app, make url_helpers available on the session. This# makes app.url_for and app.foo_path available in the console.ifapp.respond_to?(:routes)&&app.routes.is_a?(ActionDispatch::Routing::RouteSet)includeapp.routes.url_helpersincludeapp.routes.mounted_helpersend}klass.new(app)enddefault_url_options()LinkSource:show|on GitHub# File actionpack/lib/action_dispatch/testing/integration.rb, line 418defdefault_url_optionsintegration_session.default_url_optionsenddefault_url_options=(options)LinkSource:show|on GitHub# File actionpack/lib/action_dispatch/testing/integration.rb, line 422defdefault_url_options=(options)integration_session.default_url_options=optionsendintegration_session()LinkSource:show|on GitHub# File actionpack/lib/action_dispatch/testing/integration.rb, line 342defintegration_session@integration_session||=create_session(app)endopen_session()LinkOpen a new session instance. If a block is given, the new session is yielded to the block before being returned.session = open_session do |sess|
  sess.extend(CustomAssertions)
endBy default, a single session is automatically created for you, but you can use this method to open multiple sessions that ought to be tested simultaneously.Source:show|on GitHub# File actionpack/lib/action_dispatch/testing/integration.rb, line 394defopen_sessiondup.tapdo|session|session.reset!session.root_session=self.root_session||selfyieldsessionifblock_given?endendreset!()LinkReset the current session. This is useful for testing multiple sessions in a single test case.Source:show|on GitHub# File actionpack/lib/action_dispatch/testing/integration.rb, line 348defreset!@integration_session=create_session(app)end