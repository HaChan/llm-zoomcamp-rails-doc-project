The application builder allows you to override elements of the application generator without being forced to reverse the operations of the default generator.This allows you to override entire operations, like the creation of the Gemfile,README, or JavaScript files, without needing to know exactly what those operations do so you can create another template action.class CustomAppBuilder < Rails::AppBuilder
  def test
    @generator.gem "rspec-rails", group: [:development, :test]
    run "bundle install"
    generate "rspec:install"
  end
endMethodsAappBbin,bin_when_updatingCcifiles,config,config_target_version,config_when_updating,configru,credentials,credentials_diff_enrollDdatabase_yml,db,devcontainer,dockerfilesGgemfile,gitattributes,gitignoreLlib,logMmaster_keyNnode_versionPpublic_directoryRrakefile,readme,rubocop,ruby_versionSstorage,system_testTtest,tmpVvendor,version_controlInstance Public methodsapp()LinkSource:show|on GitHub# File railties/lib/rails/generators/rails/app/app_generator.rb, line 102defappdirectory"app"empty_directory_with_keep_file"app/assets/images"keep_file"app/controllers/concerns"keep_file"app/models/concerns"endbin()LinkSource:show|on GitHub# File railties/lib/rails/generators/rails/app/app_generator.rb, line 111defbinexclude_pattern=Regexp.union([(/rubocop/ifskip_rubocop?), (/brakeman/ifskip_brakeman?)].compact)directory"bin", {exclude_pattern:exclude_pattern}do|content|"#{shebang}\n"+contentendchmod"bin",0755&~File.umask,verbose:falseendbin_when_updating()LinkSource:show|on GitHub# File railties/lib/rails/generators/rails/app/app_generator.rb, line 119defbin_when_updatingbinendcifiles()LinkSource:show|on GitHub# File railties/lib/rails/generators/rails/app/app_generator.rb, line 86defcifilesempty_directory".github/workflows"template"github/ci.yml",".github/workflows/ci.yml"template"github/dependabot.yml",".github/dependabot.yml"endconfig()LinkSource:show|on GitHub# File railties/lib/rails/generators/rails/app/app_generator.rb, line 123defconfigempty_directory"config"inside"config"dotemplate"routes.rb"unlessoptions[:update]template"application.rb"template"environment.rb"template"cable.yml"unlessoptions[:update]||options[:skip_action_cable]template"puma.rb"template"storage.yml"unlessoptions[:update]||skip_active_storage?directory"environments"directory"initializers"directory"locales"unlessoptions[:update]endendconfig_target_version()LinkSource:show|on GitHub# File railties/lib/rails/generators/rails/app/app_generator.rb, line 269defconfig_target_version@config_target_version||Rails::VERSION::STRING.to_fendconfig_when_updating()LinkSource:show|on GitHub# File railties/lib/rails/generators/rails/app/app_generator.rb, line 140defconfig_when_updatingaction_cable_config_exist=File.exist?("config/cable.yml")active_storage_config_exist=File.exist?("config/storage.yml")rack_cors_config_exist=File.exist?("config/initializers/cors.rb")assets_config_exist=File.exist?("config/initializers/assets.rb")asset_manifest_exist=File.exist?("app/assets/config/manifest.js")asset_app_stylesheet_exist=File.exist?("app/assets/stylesheets/application.css")csp_config_exist=File.exist?("config/initializers/content_security_policy.rb")permissions_policy_config_exist=File.exist?("config/initializers/permissions_policy.rb")@config_target_version=Rails.application.config.loaded_config_version||"5.0"configif!options[:skip_action_cable]&&!action_cable_config_existtemplate"config/cable.yml"endif!skip_active_storage?&&!active_storage_config_existtemplate"config/storage.yml"endifskip_sprockets?&&skip_propshaft?&&!assets_config_existremove_file"config/initializers/assets.rb"endifskip_sprockets?&&!asset_manifest_existremove_file"app/assets/config/manifest.js"endifskip_sprockets?&&!asset_app_stylesheet_existremove_file"app/assets/stylesheets/application.css"endunlessrack_cors_config_existremove_file"config/initializers/cors.rb"endifoptions[:api]unlesscsp_config_existremove_file"config/initializers/content_security_policy.rb"endunlesspermissions_policy_config_existremove_file"config/initializers/permissions_policy.rb"endendendconfigru()LinkSource:show|on GitHub# File railties/lib/rails/generators/rails/app/app_generator.rb, line 66defconfigrutemplate"config.ru"endcredentials()LinkSource:show|on GitHub# File railties/lib/rails/generators/rails/app/app_generator.rb, line 198defcredentialsreturnifoptions[:pretend]||options[:dummy_app]require"rails/generators/rails/credentials/credentials_generator"Rails::Generators::CredentialsGenerator.new([],quiet:true).add_credentials_fileendcredentials_diff_enroll()LinkSource:show|on GitHub# File railties/lib/rails/generators/rails/app/app_generator.rb, line 205defcredentials_diff_enrollreturnifoptions[:skip_decrypted_diffs]||options[:dummy_app]||options[:pretend]@generator.shell.mutedorails_command"credentials:diff --enroll",inline:true,shell:@generator.shellendenddatabase_yml()LinkSource:show|on GitHub# File railties/lib/rails/generators/rails/app/app_generator.rb, line 213defdatabase_ymltemplate"config/databases/#{options[:database]}.yml","config/database.yml"enddb()LinkSource:show|on GitHub# File railties/lib/rails/generators/rails/app/app_generator.rb, line 217defdbdirectory"db"enddevcontainer()LinkSource:show|on GitHub# File railties/lib/rails/generators/rails/app/app_generator.rb, line 273defdevcontainerdevcontainer_options= {database:options[:database],redis:!(options[:skip_action_cable]&&options[:skip_active_job]),system_test:depends_on_system_test?,active_storage:!options[:skip_active_storage],dev:options[:dev],node:using_node?,app_name:app_name}Rails::Generators::DevcontainerGenerator.new([],devcontainer_options).invoke_allenddockerfiles()LinkSource:show|on GitHub# File railties/lib/rails/generators/rails/app/app_generator.rb, line 78defdockerfilestemplate"Dockerfile"template"dockerignore",".dockerignore"template"docker-entrypoint","bin/docker-entrypoint"chmod"bin/docker-entrypoint",0755&~File.umask,verbose:falseendgemfile()LinkSource:show|on GitHub# File railties/lib/rails/generators/rails/app/app_generator.rb, line 62defgemfiletemplate"Gemfile"endgitattributes()LinkSource:show|on GitHub# File railties/lib/rails/generators/rails/app/app_generator.rb, line 74defgitattributestemplate"gitattributes",".gitattributes"endgitignore()LinkSource:show|on GitHub# File railties/lib/rails/generators/rails/app/app_generator.rb, line 70defgitignoretemplate"gitignore",".gitignore"endlib()LinkSource:show|on GitHub# File railties/lib/rails/generators/rails/app/app_generator.rb, line 221deflibempty_directory"lib"empty_directory_with_keep_file"lib/tasks"empty_directory_with_keep_file"lib/assets"endlog()LinkSource:show|on GitHub# File railties/lib/rails/generators/rails/app/app_generator.rb, line 227deflogempty_directory_with_keep_file"log"endmaster_key()LinkSource:show|on GitHub# File railties/lib/rails/generators/rails/app/app_generator.rb, line 189defmaster_keyreturnifoptions[:pretend]||options[:dummy_app]require"rails/generators/rails/master_key/master_key_generator"master_key_generator=Rails::Generators::MasterKeyGenerator.new([],quiet:options[:quiet],force:options[:force])master_key_generator.add_master_key_file_silentlymaster_key_generator.ignore_master_key_file_silentlyendnode_version()LinkSource:show|on GitHub# File railties/lib/rails/generators/rails/app/app_generator.rb, line 58defnode_versiontemplate"node-version",".node-version"endpublic_directory()LinkSource:show|on GitHub# File railties/lib/rails/generators/rails/app/app_generator.rb, line 231defpublic_directoryreturnifoptions[:update]&&options[:api]directory"public","public",recursive:falseendrakefile()LinkSource:show|on GitHub# File railties/lib/rails/generators/rails/app/app_generator.rb, line 46defrakefiletemplate"Rakefile"endreadme()LinkSource:show|on GitHub# File railties/lib/rails/generators/rails/app/app_generator.rb, line 50defreadmecopy_file"README.md","README.md"endrubocop()LinkSource:show|on GitHub# File railties/lib/rails/generators/rails/app/app_generator.rb, line 92defrubocoptemplate"rubocop.yml",".rubocop.yml"endruby_version()LinkSource:show|on GitHub# File railties/lib/rails/generators/rails/app/app_generator.rb, line 54defruby_versiontemplate"ruby-version",".ruby-version"endstorage()LinkSource:show|on GitHub# File railties/lib/rails/generators/rails/app/app_generator.rb, line 237defstorageempty_directory_with_keep_file"storage"empty_directory_with_keep_file"tmp/storage"endsystem_test()LinkSource:show|on GitHub# File railties/lib/rails/generators/rails/app/app_generator.rb, line 254defsystem_testempty_directory_with_keep_file"test/system"template"test/application_system_test_case.rb"endtest()LinkSource:show|on GitHub# File railties/lib/rails/generators/rails/app/app_generator.rb, line 242deftestempty_directory_with_keep_file"test/fixtures/files"empty_directory_with_keep_file"test/controllers"empty_directory_with_keep_file"test/mailers"empty_directory_with_keep_file"test/models"empty_directory_with_keep_file"test/helpers"empty_directory_with_keep_file"test/integration"template"test/channels/application_cable/connection_test.rb"template"test/test_helper.rb"endtmp()LinkSource:show|on GitHub# File railties/lib/rails/generators/rails/app/app_generator.rb, line 260deftmpempty_directory_with_keep_file"tmp"empty_directory_with_keep_file"tmp/pids"endvendor()LinkSource:show|on GitHub# File railties/lib/rails/generators/rails/app/app_generator.rb, line 265defvendorempty_directory_with_keep_file"vendor"endversion_control()LinkSource:show|on GitHub# File railties/lib/rails/generators/rails/app/app_generator.rb, line 96defversion_controlif!options[:skip_git]&&!options[:pretend]rungit_init_command,capture:options[:quiet],abort_on_failure:falseendend