Action Mailbox RouterEncapsulates the routes that live on the ApplicationMailbox and performs the actual routing when an inbound_email is received.NamespaceCLASSActionMailbox::Router::RouteCLASSActionMailbox::Router::RoutingErrorMethodsAadd_route,add_routesMmailbox_forNnewRrouteClass Public methodsnew()LinkSource:show|on GitHub# File actionmailbox/lib/action_mailbox/router.rb, line 11definitialize@routes= []endInstance Public methodsadd_route(address, to:)LinkSource:show|on GitHub# File actionmailbox/lib/action_mailbox/router.rb, line 21defadd_route(address,to:)routes.appendRoute.new(address,to:to)endadd_routes(routes)LinkSource:show|on GitHub# File actionmailbox/lib/action_mailbox/router.rb, line 15defadd_routes(routes)routes.eachdo|(address,mailbox_name)|add_routeaddress,to:mailbox_nameendendmailbox_for(inbound_email)LinkSource:show|on GitHub# File actionmailbox/lib/action_mailbox/router.rb, line 35defmailbox_for(inbound_email)routes.detect{|route|route.match?(inbound_email) }&.mailbox_classendroute(inbound_email)LinkSource:show|on GitHub# File actionmailbox/lib/action_mailbox/router.rb, line 25defroute(inbound_email)ifmailbox=mailbox_for(inbound_email)mailbox.receive(inbound_email)elseinbound_email.bounced!raiseRoutingErrorendend