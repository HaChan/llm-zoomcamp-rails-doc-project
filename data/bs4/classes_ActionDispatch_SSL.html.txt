Action DispatchSSLThis middleware is added to the stack whenconfig.force_ssl = true, and is passed the options set inconfig.ssl_options. It does three jobs to enforce secure HTTP requests:TLS redirect: Permanently redirectshttp://requests tohttps://with the same URL host, path, etc. Enabled by default. Setconfig.ssl_optionsto modify the destination URL (e.g.redirect: { host: "secure.widgets.com", port: 8080 }), or setredirect: falseto disable this feature.Requests can opt-out of redirection withexclude:config.ssl_options = { redirect: { exclude: -> request { /healthcheck/.match?(request.path) } } }Cookieswill not be flagged as secure for excluded requests.Secure cookies: Sets thesecureflag on cookies to tell browsers they must not be sent along withhttp://requests. Enabled by default. Setconfig.ssl_optionswithsecure_cookies: falseto disable this feature.HTTP Strict Transport Security (HSTS): Tells the browser to remember this site as TLS-only and automatically redirect non-TLS requests. Enabled by default. Configureconfig.ssl_optionswithhsts: falseto disable.Setconfig.ssl_optionswithhsts: { ... }to configure HSTS:expires: How long, in seconds, these settings will stick. The minimum required to qualify for browser preload lists is 1 year. Defaults to 2 years (recommended).subdomains: Set totrueto tell the browser to apply these settings to all subdomains. This protects your cookies from interception by a vulnerable site on a subdomain. Defaults totrue.preload: Advertise that this site may be included in browsersâ preloaded HSTS lists. HSTS protects your site on every visitexcept the first visitsince it hasnât seen your HSTS header yet. To close this gap, browser vendors include a baked-in list of HSTS-enabled sites. Go tohstspreload.orgto submit your site for inclusion. Defaults tofalse.To turn off HSTS, omitting the header is not enough. Browsers will remember the original HSTS directive until it expires. Instead, use the header to tell browsers to expire HSTS immediately. Settinghsts: falseis a shortcut forhsts: { expires: 0 }.