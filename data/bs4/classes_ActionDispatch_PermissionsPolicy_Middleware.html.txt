MethodsCcallNnewClass Public methodsnew(app)LinkSource:show|on GitHub# File actionpack/lib/action_dispatch/http/permissions_policy.rb, line 33definitialize(app)@app=appendInstance Public methodscall(env)LinkSource:show|on GitHub# File actionpack/lib/action_dispatch/http/permissions_policy.rb, line 37defcall(env)_,headers,_=response=@app.call(env)returnresponseifpolicy_present?(headers)request=ActionDispatch::Request.new(env)ifpolicy=request.permissions_policyheaders[ActionDispatch::Constants::FEATURE_POLICY] =policy.build(request.controller_instance)endifpolicy_empty?(policy)headers.delete(ActionDispatch::Constants::FEATURE_POLICY)endresponseend