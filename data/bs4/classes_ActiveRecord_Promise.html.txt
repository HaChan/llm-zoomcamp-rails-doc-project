MethodsPpending?TthenVvalueInstance Public methodspending?()LinkReturns whether the associated query is still being executed or not.Source:show|on GitHub# File activerecord/lib/active_record/promise.rb, line 13defpending?@future_result.pending?endthen(&block)LinkReturns a newActiveRecord::Promisethat will apply the passed block when the value is accessed:Post.async_pick(:title).then { |title| title.upcase }.value
# => "POST TITLE"Source:show|on GitHub# File activerecord/lib/active_record/promise.rb, line 36defthen(&block)Promise.new(@future_result,@block?@block>>block:block)endvalue()LinkReturns the query result. If the query wasnât completed yet, accessing#valuewill block until the query completes. If the query failed,#valuewill raise the corresponding error.Source:show|on GitHub# File activerecord/lib/active_record/promise.rb, line 20defvaluereturn@valueifdefined?@valueresult=@future_result.result@value=if@block@block.call(result)elseresultendend