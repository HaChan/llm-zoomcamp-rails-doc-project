Screenshot helper for system testing.MethodsTtake_failed_screenshot,take_screenshotInstance Public methodstake_failed_screenshot()LinkTakes a screenshot of the current page in the browser if the test failed.take_failed_screenshotis called during system test teardown.Source:show|on GitHub# File actionpack/lib/action_dispatch/system_testing/test_helpers/screenshot_helper.rb, line 53deftake_failed_screenshotreturnunlessfailed?&&supports_screenshot?&&Capybara::Session.instance_created?take_screenshotmetadata[:failure_screenshot_path] =relative_image_pathifMinitest::Runnable.method_defined?(:metadata)endtake_screenshot(html: false, screenshot: nil)LinkTakes a screenshot of the current page in the browser.take_screenshotcan be used at any point in your system tests to take a screenshot of the current state. This can be useful for debugging or automating visual testing. You can take multiple screenshots per test to investigate changes at different points during your test. These will be named with a sequential prefix (or âfailedâ for failing tests)The default screenshots directory istmp/screenshotsbut you can set a different one withCapybara.save_pathYou can use thehtmlargument or set theRAILS_SYSTEM_TESTING_SCREENSHOT_HTMLenvironment variable to save the HTML from the page that is being screenshotted so you can investigate the elements on the page at the time of the screenshotYou can use thescreenshotargument or set theRAILS_SYSTEM_TESTING_SCREENSHOTenvironment variable to control the output. Possible values are:simple(default) : Only displays the screenshot path. This is the default value.`inline`: Display the screenshot in the terminal using the iTerm image protocol (iterm2.com/documentation-images.html).`artifact`: Display the screenshot in the terminal, using the terminal artifact format (buildkite.github.io/terminal-to-html/inline-images/).Source:show|on GitHub# File actionpack/lib/action_dispatch/system_testing/test_helpers/screenshot_helper.rb, line 41deftake_screenshot(html:false,screenshot:nil)showing_html=html||html_from_env?increment_uniquesave_htmlifshowing_htmlsave_imageshowdisplay_image(html:showing_html,screenshot_output:screenshot)end