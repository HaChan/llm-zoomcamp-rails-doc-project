NamespaceMODULERails::Generators::Testing::Behavior::ClassMethodsMethodsCcreate_generated_attributeGgeneratorPprepare_destinationRrun_generatorInstance Public methodscreate_generated_attribute(attribute_type, name = "test", index = nil)LinkCreate a Rails::Generators::GeneratedAttribute by supplying the attribute type and, optionally, the attribute name:create_generated_attribute(:string, "name")Source:show|on GitHub# File railties/lib/rails/generators/testing/behavior.rb, line 89defcreate_generated_attribute(attribute_type,name="test",index=nil)Rails::Generators::GeneratedAttribute.parse([name,attribute_type,index].compact.join(":"))endgenerator(args = default_arguments, options = {}, config = {})LinkInstantiate the generator.Source:show|on GitHub# File railties/lib/rails/generators/testing/behavior.rb, line 81defgenerator(args=default_arguments,options= {},config= {})@generator||=generator_class.new(args,options,config.reverse_merge(destination_root:destination_root))endrun_generator(args = default_arguments, config = {})LinkRuns the generator configured for this class. The first argument is an array like command line arguments:class AppGeneratorTest < Rails::Generators::TestCase
  tests AppGenerator
  destination File.expand_path("../tmp", __dir__)
  setup :prepare_destination

  test "database.yml is not created when skipping Active Record" do
    run_generator %w(myapp --skip-active-record)
    assert_no_file "config/database.yml"
  end
endYou can provide a configuration hash as second argument. This method returns the output printed by the generator.Source:show|on GitHub# File railties/lib/rails/generators/testing/behavior.rb, line 67defrun_generator(args=default_arguments,config= {})args+=["--skip-bundle"]unlessargs.include?("--no-skip-bundle")||args.include?("--dev")args+=["--skip-bootsnap"]unlessargs.include?("--no-skip-bootsnap")||args.include?("--skip-bootsnap")ifENV["RAILS_LOG_TO_STDOUT"]=="true"generator_class.start(args,config.reverse_merge(destination_root:destination_root))elsecapture(:stdout)dogenerator_class.start(args,config.reverse_merge(destination_root:destination_root))endendendInstance Private methodsprepare_destination()LinkClears all files and directories in destination.Source:show|on GitHub# File railties/lib/rails/generators/testing/behavior.rb, line 103defprepare_destination# :doc:rm_rf(destination_root)mkdir_p(destination_root)end