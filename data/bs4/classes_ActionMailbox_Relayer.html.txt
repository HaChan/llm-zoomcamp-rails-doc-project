NamespaceCLASSActionMailbox::Relayer::ResultMethodsNnewRrelayConstantsCONTENT_TYPE="message/rfc822"USER_AGENT="Action Mailbox relayer v#{ActionMailbox.version}"Attributes[R]password[R]uri[R]usernameClass Public methodsnew(url:, username: "actionmailbox", password:)LinkSource:show|on GitHub# File actionmailbox/lib/action_mailbox/relayer.rb, line 32definitialize(url:,username:"actionmailbox",password:)@uri,@username,@password=URI(url),username,passwordendInstance Public methodsrelay(source)LinkSource:show|on GitHub# File actionmailbox/lib/action_mailbox/relayer.rb, line 36defrelay(source)caseresponse=post(source)whenNet::HTTPSuccessResult.new"2.0.0","Successfully relayed message to ingress"whenNet::HTTPUnauthorizedResult.new"4.7.0","Invalid credentials for ingress"elseResult.new"4.0.0","HTTP #{response.code}"endrescueIOError,SocketError,SystemCallError=>errorResult.new"4.4.2","Network error relaying to ingress: #{error.message}"rescueTimeout::ErrorResult.new"4.4.2","Timed out relaying to ingress"rescue=>errorResult.new"4.0.0","Error relaying to ingress: #{error.message}"end