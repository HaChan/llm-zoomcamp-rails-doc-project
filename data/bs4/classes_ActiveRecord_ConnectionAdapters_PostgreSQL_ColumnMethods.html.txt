MethodsBbigserial,bit,bit_varying,boxCcidr,circle,citextDdaterangeEenumHhstoreIinet,int4range,int8range,intervalJjsonbLline,lseg,ltreeMmacaddr,moneyNnumrangeOoidPpath,point,polygon,primary_keySserialTtimestamptz,tsrange,tstzrange,tsvectorUuuidXxmlInstance Public methodsbigserial(*names, **options)LinkSource:on GitHub# File activerecord/lib/active_record/connection_adapters/postgresql/schema_definitions.rb, line 57bit(*names, **options)LinkSource:on GitHub# File activerecord/lib/active_record/connection_adapters/postgresql/schema_definitions.rb, line 61bit_varying(*names, **options)LinkSource:on GitHub# File activerecord/lib/active_record/connection_adapters/postgresql/schema_definitions.rb, line 65box(*names, **options)LinkSource:on GitHub# File activerecord/lib/active_record/connection_adapters/postgresql/schema_definitions.rb, line 137cidr(*names, **options)LinkSource:on GitHub# File activerecord/lib/active_record/connection_adapters/postgresql/schema_definitions.rb, line 69circle(*names, **options)LinkSource:on GitHub# File activerecord/lib/active_record/connection_adapters/postgresql/schema_definitions.rb, line 149citext(*names, **options)LinkSource:on GitHub# File activerecord/lib/active_record/connection_adapters/postgresql/schema_definitions.rb, line 73daterange(*names, **options)LinkSource:on GitHub# File activerecord/lib/active_record/connection_adapters/postgresql/schema_definitions.rb, line 77enum(*names, **options)LinkSource:show|on GitHub# File activerecord/lib/active_record/connection_adapters/postgresql/schema_definitions.rb, line 184includeddodefine_column_methods:bigserial,:bit,:bit_varying,:cidr,:citext,:daterange,:hstore,:inet,:interval,:int4range,:int8range,:jsonb,:ltree,:macaddr,:money,:numrange,:oid,:point,:line,:lseg,:box,:path,:polygon,:circle,:serial,:tsrange,:tstzrange,:tsvector,:uuid,:xml,:timestamptz,:enumendhstore(*names, **options)LinkSource:on GitHub# File activerecord/lib/active_record/connection_adapters/postgresql/schema_definitions.rb, line 81inet(*names, **options)LinkSource:on GitHub# File activerecord/lib/active_record/connection_adapters/postgresql/schema_definitions.rb, line 85int4range(*names, **options)LinkSource:on GitHub# File activerecord/lib/active_record/connection_adapters/postgresql/schema_definitions.rb, line 93int8range(*names, **options)LinkSource:on GitHub# File activerecord/lib/active_record/connection_adapters/postgresql/schema_definitions.rb, line 97interval(*names, **options)LinkSource:on GitHub# File activerecord/lib/active_record/connection_adapters/postgresql/schema_definitions.rb, line 89jsonb(*names, **options)LinkSource:on GitHub# File activerecord/lib/active_record/connection_adapters/postgresql/schema_definitions.rb, line 101line(*names, **options)LinkSource:on GitHub# File activerecord/lib/active_record/connection_adapters/postgresql/schema_definitions.rb, line 129lseg(*names, **options)LinkSource:on GitHub# File activerecord/lib/active_record/connection_adapters/postgresql/schema_definitions.rb, line 133ltree(*names, **options)LinkSource:on GitHub# File activerecord/lib/active_record/connection_adapters/postgresql/schema_definitions.rb, line 105macaddr(*names, **options)LinkSource:on GitHub# File activerecord/lib/active_record/connection_adapters/postgresql/schema_definitions.rb, line 109money(*names, **options)LinkSource:on GitHub# File activerecord/lib/active_record/connection_adapters/postgresql/schema_definitions.rb, line 113numrange(*names, **options)LinkSource:on GitHub# File activerecord/lib/active_record/connection_adapters/postgresql/schema_definitions.rb, line 117oid(*names, **options)LinkSource:on GitHub# File activerecord/lib/active_record/connection_adapters/postgresql/schema_definitions.rb, line 121path(*names, **options)LinkSource:on GitHub# File activerecord/lib/active_record/connection_adapters/postgresql/schema_definitions.rb, line 141point(*names, **options)LinkSource:on GitHub# File activerecord/lib/active_record/connection_adapters/postgresql/schema_definitions.rb, line 125polygon(*names, **options)LinkSource:on GitHub# File activerecord/lib/active_record/connection_adapters/postgresql/schema_definitions.rb, line 145primary_key(name, type = :primary_key, **options)LinkDefines the primary key field. Use of the native PostgreSQL UUID type is supported, and can be used by defining your tables as such:create_table :stuffs, id: :uuid do |t|
  t.string :content
  t.timestamps
endBy default, this will use thegen_random_uuid()function from thepgcryptoextension. As that extension is only available in PostgreSQL 9.4+, for earlier versions an explicit default can be set to useuuid_generate_v4()from theuuid-osspextension instead:create_table :stuffs, id: false do |t|
  t.primary_key :id, :uuid, default: "uuid_generate_v4()"
  t.uuid :foo_id
  t.timestamps
endTo enable the appropriate extension, which is a requirement, use theenable_extensionmethod in your migrations.To use a UUID primary key without any of the extensions, set the:defaultoption tonil:create_table :stuffs, id: false do |t|
  t.primary_key :id, :uuid, default: nil
  t.uuid :foo_id
  t.timestamps
endYou may also pass a custom stored procedure that returns a UUID or use a different UUID generation function from another library.Note that setting the UUID primary key default value tonilwill require you to assure that you always provide a UUID value before saving a record (as primary keys cannot benil). This might be done via theSecureRandom.uuidmethod and abefore_savecallback, for instance.Source:show|on GitHub# File activerecord/lib/active_record/connection_adapters/postgresql/schema_definitions.rb, line 48defprimary_key(name,type=:primary_key,**options)iftype==:uuidoptions[:default] =options.fetch(:default,"gen_random_uuid()")endsuperendserial(*names, **options)LinkSource:on GitHub# File activerecord/lib/active_record/connection_adapters/postgresql/schema_definitions.rb, line 153timestamptz(*names, **options)LinkSource:on GitHub# File activerecord/lib/active_record/connection_adapters/postgresql/schema_definitions.rb, line 177tsrange(*names, **options)LinkSource:on GitHub# File activerecord/lib/active_record/connection_adapters/postgresql/schema_definitions.rb, line 157tstzrange(*names, **options)LinkSource:on GitHub# File activerecord/lib/active_record/connection_adapters/postgresql/schema_definitions.rb, line 161tsvector(*names, **options)LinkSource:on GitHub# File activerecord/lib/active_record/connection_adapters/postgresql/schema_definitions.rb, line 165uuid(*names, **options)LinkSource:on GitHub# File activerecord/lib/active_record/connection_adapters/postgresql/schema_definitions.rb, line 169xml(*names, **options)LinkSource:on GitHub# File activerecord/lib/active_record/connection_adapters/postgresql/schema_definitions.rb, line 173