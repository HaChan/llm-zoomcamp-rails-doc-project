MethodsAattachment_selector,attachmentsFfind_attachment_gallery_nodes,fragment_by_canonicalizing_attachment_galleries,fragment_by_replacing_attachment_gallery_nodes,from_nodeIinspectNnewSselector,sizeIncluded ModulesActiveModel::ModelAttributes[R]nodeClass Public methodsattachment_selector()LinkSource:show|on GitHub# File actiontext/lib/action_text/attachment_gallery.rb, line 43defattachment_selector"#{ActionText::Attachment.tag_name}[presentation=gallery]"endfind_attachment_gallery_nodes(content)LinkSource:show|on GitHub# File actiontext/lib/action_text/attachment_gallery.rb, line 27deffind_attachment_gallery_nodes(content)Fragment.wrap(content).find_all(selector).selectdo|node|node.children.all?do|child|ifchild.text?/\A(\n|\ )*\z/.match?(child.text)elsechild.matches?attachment_selectorendendendendfragment_by_canonicalizing_attachment_galleries(content)LinkSource:show|on GitHub# File actiontext/lib/action_text/attachment_gallery.rb, line 13deffragment_by_canonicalizing_attachment_galleries(content)fragment_by_replacing_attachment_gallery_nodes(content)do|node|"<#{TAG_NAME}>#{node.inner_html}</#{TAG_NAME}>"endendfragment_by_replacing_attachment_gallery_nodes(content)LinkSource:show|on GitHub# File actiontext/lib/action_text/attachment_gallery.rb, line 19deffragment_by_replacing_attachment_gallery_nodes(content)Fragment.wrap(content).updatedo|source|find_attachment_gallery_nodes(source).eachdo|node|node.replace(yield(node).to_s)endendendfrom_node(node)LinkSource:show|on GitHub# File actiontext/lib/action_text/attachment_gallery.rb, line 39deffrom_node(node)new(node)endnew(node)LinkSource:show|on GitHub# File actiontext/lib/action_text/attachment_gallery.rb, line 54definitialize(node)@node=nodeendselector()LinkSource:show|on GitHub# File actiontext/lib/action_text/attachment_gallery.rb, line 47defselector"#{TAG_NAME}:has(#{attachment_selector} + #{attachment_selector})"endInstance Public methodsattachments()LinkSource:show|on GitHub# File actiontext/lib/action_text/attachment_gallery.rb, line 58defattachments@attachments||=node.css(ActionText::AttachmentGallery.attachment_selector).mapdo|node|ActionText::Attachment.from_node(node).with_full_attributesendendinspect()LinkSource:show|on GitHub# File actiontext/lib/action_text/attachment_gallery.rb, line 68definspect"#<#{self.class.name} size=#{size.inspect}>"endsize()LinkSource:show|on GitHub# File actiontext/lib/action_text/attachment_gallery.rb, line 64defsizeattachments.sizeend