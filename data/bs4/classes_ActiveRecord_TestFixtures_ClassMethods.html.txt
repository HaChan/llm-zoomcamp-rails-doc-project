MethodsFfixturesSset_fixture_class,setup_fixture_accessorsUuses_transaction,uses_transaction?Instance Public methodsfixtures(*fixture_set_names)LinkSource:show|on GitHub# File activerecord/lib/active_record/test_fixtures.rb, line 56deffixtures(*fixture_set_names)iffixture_set_names.first==:allraiseStandardError,"No fixture path found. Please set `#{self}.fixture_paths`."iffixture_paths.blank?fixture_set_names=fixture_paths.flat_mapdo|path|names=Dir[::File.join(path,"{**,*}/*.{yml}")].uniqnames.reject!{|f|f.start_with?(file_fixture_path.to_s) }ifdefined?(file_fixture_path)&&file_fixture_pathnames.map!{|f|f[path.to_s.size..-5].delete_prefix("/") }end.uniqelsefixture_set_names=fixture_set_names.flatten.map(&:to_s)endself.fixture_table_names= (fixture_table_names|fixture_set_names).sortsetup_fixture_accessors(fixture_set_names)endset_fixture_class(class_names = {})LinkSets the model class for a fixture when the class name cannot be inferred from the fixture name.Examples:set_fixture_class some_fixture:        SomeModel,
                  'namespaced/fixture' => Another::ModelThe keys must be the fixture names, that coincide with the short paths to the fixture files.Source:show|on GitHub# File activerecord/lib/active_record/test_fixtures.rb, line 52defset_fixture_class(class_names= {})self.fixture_class_names=fixture_class_names.merge(class_names.stringify_keys)endsetup_fixture_accessors(fixture_set_names = nil)LinkSource:show|on GitHub# File activerecord/lib/active_record/test_fixtures.rb, line 72defsetup_fixture_accessors(fixture_set_names=nil)fixture_set_names=Array(fixture_set_names||fixture_table_names)unlessfixture_set_names.empty?self.fixture_sets=fixture_sets.dupfixture_set_names.eachdo|fs_name|key=fs_name.to_s.include?("/")?-fs_name.to_s.tr("/","_"):fs_namekey=-key.to_sifkey.is_a?(Symbol)fs_name=-fs_name.to_siffs_name.is_a?(Symbol)fixture_sets[key] =fs_nameendendenduses_transaction(*methods)LinkPrevents automatically wrapping each specified test in a transaction, to allow application logic transactions to be tested in a top-level (non-nested) context.Source:show|on GitHub# File activerecord/lib/active_record/test_fixtures.rb, line 88defuses_transaction(*methods)@uses_transaction= []unlessdefined?(@uses_transaction)@uses_transaction.concatmethods.map(&:to_s)enduses_transaction?(method)LinkSource:show|on GitHub# File activerecord/lib/active_record/test_fixtures.rb, line 93defuses_transaction?(method)@uses_transaction= []unlessdefined?(@uses_transaction)@uses_transaction.include?(method.to_s)end