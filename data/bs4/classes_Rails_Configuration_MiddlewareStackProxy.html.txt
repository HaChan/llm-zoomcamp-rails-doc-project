MiddlewareStackProxyis a proxy for the Rails middleware stack that allows you to configure middlewares in your application. It works basically as a command recorder, saving each command to be applied after initialization over the default middleware stack, so you can add, swap, or remove any middleware in Rails.You can add your own middlewares by using theconfig.middleware.usemethod:config.middleware.use Magical::UnicornsThis will put theMagical::Unicornsmiddleware on the end of the stack. You can useinsert_beforeif you wish to add a middleware before another:config.middleware.insert_before Rack::Head, Magical::UnicornsThereâs alsoinsert_afterwhich will insert a middleware after another:config.middleware.insert_after Rack::Head, Magical::UnicornsMiddlewares can also be completely swapped out and replaced with others:config.middleware.swap ActionDispatch::Flash, Magical::UnicornsMiddlewares can be moved from one place to another:config.middleware.move_before ActionDispatch::Flash, Magical::UnicornsThis will move theMagical::Unicornsmiddleware before theActionDispatch::Flash. You can also move it after:config.middleware.move_after ActionDispatch::Flash, Magical::UnicornsAnd finally they can also be removed from the stack completely:config.middleware.delete ActionDispatch::FlashMethodsDdeleteIinsert,insert_after,insert_beforeMmove,move_after,move_beforeNnewSswapUunshift,useAttributes[R]delete_operations[R]operationsClass Public methodsnew(operations = [], delete_operations = [])LinkSource:show|on GitHub# File railties/lib/rails/configuration.rb, line 47definitialize(operations= [],delete_operations= [])@operations=operations@delete_operations=delete_operationsendInstance Public methodsdelete(...)LinkSource:show|on GitHub# File railties/lib/rails/configuration.rb, line 70defdelete(...)@delete_operations<<->middleware{middleware.delete(...) }endinsert(...)LinkAlias for:insert_beforeinsert_after(...)LinkSource:show|on GitHub# File railties/lib/rails/configuration.rb, line 58definsert_after(...)@operations<<->middleware{middleware.insert_after(...) }endinsert_before(...)LinkAlso aliased as:insertSource:show|on GitHub# File railties/lib/rails/configuration.rb, line 52definsert_before(...)@operations<<->middleware{middleware.insert_before(...) }endmove(...)LinkAlias for:move_beforemove_after(...)LinkSource:show|on GitHub# File railties/lib/rails/configuration.rb, line 80defmove_after(...)@delete_operations<<->middleware{middleware.move_after(...) }endmove_before(...)LinkAlso aliased as:moveSource:show|on GitHub# File railties/lib/rails/configuration.rb, line 74defmove_before(...)@delete_operations<<->middleware{middleware.move_before(...) }endswap(...)LinkSource:show|on GitHub# File railties/lib/rails/configuration.rb, line 62defswap(...)@operations<<->middleware{middleware.swap(...) }endunshift(...)LinkSource:show|on GitHub# File railties/lib/rails/configuration.rb, line 84defunshift(...)@operations<<->middleware{middleware.unshift(...) }enduse(...)LinkSource:show|on GitHub# File railties/lib/rails/configuration.rb, line 66defuse(...)@operations<<->middleware{middleware.use(...) }end